package com.kedu.home.utils;

import java.util.List;
import com.kedu.home.dto.PlaceDTO;

public class PromptBuilder {

    public static String buildPrompt(String userInput, List<PlaceDTO> places) {
        StringBuilder sb = new StringBuilder();

        sb.append("ë‹¹ì‹ ì€ ì—¬í–‰ì§€ ì¶”ì²œ ì‹œìŠ¤í…œì˜ ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤.\n\n");

        sb.append("ì‚¬ìš©ìì˜ ì…ë ¥ì€ ì˜¤íƒ€, ì¶•ì•½ì–´, ë¹„ì†ì–´ê°€ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n");
        sb.append("ì…ë ¥ì„ ë¬¸ë§¥ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ì •ì œëœ ì˜ë¯¸ë¡œ í•´ì„í•˜ê³ , ì´ì— ì í•©í•œ ì¥ì†Œë¥¼ ì¶”ì²œí•˜ì„¸ìš”.\n\n");

        sb.append("ë„ˆì˜ ì—­í• ì€ ì œê³µëœ í›„ë³´ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì¡°ê±´ì— ë§ëŠ” ì¥ì†Œë¥¼ í•„í„°ë§í•˜ì—¬ ì¶”ì²œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n");
        sb.append("í›„ë³´ ë¦¬ìŠ¤íŠ¸ì— ì—†ëŠ” ì¥ì†ŒëŠ” ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. ìƒˆë¡œìš´ ì¥ì†Œë¥¼ ìƒì„±í•˜ì§€ ë§ˆì„¸ìš”.\n\n");

        sb.append("ğŸ“Œ ì§€ì—­ ì¡°ê±´ ì²˜ë¦¬ ì§€ì¹¨:\n");
        sb.append("1. ì‚¬ìš©ìê°€ í•œ ê°œì˜ ì§€ì—­ì„ ì…ë ¥í•˜ë©´ í•´ë‹¹ ì§€ì—­ ë‚´ ì¥ì†Œë§Œ ì¶”ì²œí•˜ì„¸ìš”.\n");
        sb.append("2. ë‘ ê°œ ì´ìƒì˜ ì§€ì—­ì´ ì…ë ¥ë˜ë©´:\n");
        sb.append("   - í›„ë³´ ë¦¬ìŠ¤íŠ¸ì—ì„œ ëª¨ë‘ ì°¾ì„ ìˆ˜ ìˆë‹¤ë©´, ë‘ ì§€ì—­ ëª¨ë‘ í¬í•¨í•´ì„œ ì¶”ì²œí•˜ì„¸ìš”.\n");
        sb.append("   - ë‘˜ ë‹¤ ë§Œì¡±í•˜ê¸° ì–´ë µë‹¤ë©´, ë¬¸ë§¥ìƒ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ì§€ì—­ë§Œ ê³¨ë¼ ì¶”ì²œí•˜ì„¸ìš”.\n");
        sb.append("   - ê·¸ë˜ë„ ê²°ê³¼ê°€ ì¶©ë¶„í•˜ì§€ ì•Šìœ¼ë©´, ì•„ë˜ í˜•ì‹ìœ¼ë¡œ ì—ëŸ¬ ì‘ë‹µí•˜ì„¸ìš”:\n");
        sb.append("     { \"error\": \"ì¶”ì²œí•  ë§Œí•œ ì¥ì†Œê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.\" }\n\n");

        sb.append("ğŸ“Œ ì‘ë‹µ í˜•ì‹ì€ ë°˜ë“œì‹œ ì•„ë˜ JSONë§Œ ì‚¬ìš©í•˜ì„¸ìš”. ë§ˆí¬ë‹¤ìš´, ì½”ë“œë¸”ëŸ­, ì„¤ëª… ë¬¸ì¥ í¬í•¨ ê¸ˆì§€:\n\n");

        sb.append("{\n");
        sb.append("  \"results\": [\n");
        sb.append("    {\n");
        sb.append("      \"name\": \"ì¥ì†Œëª…\",\n");
        sb.append("      \"type\": \"ì¥ì†Œ ìœ í˜•\",\n");
        sb.append("      \"region\": \"ì§€ì—­ëª…\",\n");
        sb.append("      \"description\": \"ì¥ì†Œ ì„¤ëª… (1ë¬¸ì¥)\",\n");
        sb.append("      \"reason\": \"ì¶”ì²œ ì´ìœ \",\n");
        sb.append("      \"latitude\": \"ìœ„ë„\",\n");
        sb.append("      \"longitude\": \"ê²½ë„\",\n");
        sb.append("      \"imageUrl\": \"ì´ë¯¸ì§€íŒŒì¼ê²½ë¡œ\"\n");
        sb.append("    }\n");
        sb.append("  ]\n");
        sb.append("}\n\n");

        sb.append("ğŸ“Œ ì˜ˆì™¸ ìƒí™©ì¼ ê²½ìš° ë°˜ë“œì‹œ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µ:\n");
        sb.append("{ \"error\": \"ì¶”ì²œí•  ë§Œí•œ ì¥ì†Œê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.\" }\n\n");

        sb.append("ğŸ“Œ ê¸°íƒ€ ì¡°ê±´:\n");
        sb.append("1. ì¥ì†Œ ìˆ˜ëŠ” ìµœì†Œ 3ê°œ, ìµœëŒ€ 5ê°œ.\n");
        sb.append("2. ì¥ì†ŒëŠ” ë°˜ë“œì‹œ í›„ë³´ ë¦¬ìŠ¤íŠ¸ì—ì„œë§Œ ì„ íƒí•˜ì„¸ìš”.\n");
        sb.append("3. descriptionê³¼ reasonì€ ì„œë¡œ ë‹¤ë¥¸ ë‚´ìš©ì„ ë‹´ë„ë¡ í•˜ì„¸ìš”.\n");
        sb.append("4. JSON ì™¸ í…ìŠ¤íŠ¸, ì„¤ëª…, ë§ˆí¬ë‹¤ìš´, ì½”ë“œë¸”ëŸ­ ë“±ì€ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\n");
        sb.append("5. íŠ¹íˆ ì•„ë˜ ë‹¨ì–´ë“¤ì€ description ë˜ëŠ” reasonì— ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”:\n");
        sb.append("   - ê¸°ë³¸, ëŒ€ì²´, ì˜ëª»ëœ ì…ë ¥, ì„ì˜, ì˜ˆì‹œ, ì¶”ì²œì´ ë¶€ì¡±í•˜ì—¬\n");
        sb.append("6. ë°˜ë“œì‹œ ì˜ë¯¸ ìˆëŠ” ì¶”ì²œì´ ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ resultsë¥¼ ì‘ë‹µí•˜ì„¸ìš”.\n");

        sb.append("\nğŸ§¾ ì‚¬ìš©ì ì…ë ¥:\n");
        sb.append("\"").append(userInput).append("\"\n\n");

        sb.append("ğŸ—‚ï¸ í›„ë³´ ì¥ì†Œ ë¦¬ìŠ¤íŠ¸:\n");
        for (int i = 0; i < places.size(); i++) {
            PlaceDTO p = places.get(i);
            sb.append(String.format("%d. %s (%s, %s) - %s / %s\n",
                    i + 1, p.getName(), p.getType(), p.getRegion(), p.getDescription(), p.getReason(), p.getImageUrl()));
        }

        return sb.toString();
    }
    
    public static String buildPrompt2(String date, String startingLocation ) {
    	StringBuilder sb = new StringBuilder();

        sb.append("ë‹¹ì‹ ì€ íŠ¹ì • ê°€ê²Œ ë° ì£¼ì†Œê°€ í•´ë‹¹í•˜ëŠ” ì§€ì—­ì˜ ê´€ê´‘ì§€ ë° ë³¼ê±°ë¦¬ ë° ì¸ê¸°ìˆëŠ” ì‹ë‹¹ ì¶”ì²œ ì‹œìŠ¤í…œì˜ ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤.\n\n");
        
        sb.append("ë„ˆì˜ ì—­í• ì€ ê±´ë„¤ë°›ì€ ì£¼ì†Œì™€ ë‚ ì§œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ ìœ„ì¹˜ì˜ ì£¼ë³€ì— ìˆëŠ” ê°€ë³¼ë§Œí•œ ì¥ì†Œ ë° ì‹ë‹¹ ë° ê´€ê´‘ì§€ë¥¼ ì¶”ì²œí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.\n");
        sb.append("êµ¬ê¸€ ì§€ë„ ë° ì¹´ì¹´ì˜¤ì§€ë„ ë° ë„¤ì´ë²„ì§€ë„ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¥ì†ŒëŠ” ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”. ìƒˆë¡œìš´ ì¥ì†Œë¥¼ ìƒì„±í•˜ì—¬ ì¶”ì²œí•˜ì§€ ë§ˆì„¸ìš”. ë„˜ê²¨ë°›ì€ ì£¼ì†Œë¡œë¶€í„° ë°˜ê²½ 10km ì´ë‚´ì— ìœ„ì¹˜í•œ ê°€ê²Œ ë° ì‹ë‹¹ ë° ë³¼ê±°ë¦¬ë¥¼ ì¶”ì²œí•˜ì„¸ìš”. ë„˜ê²¨ë°›ì€ ë‚ ì§œì˜ ë‚ ì”¨ì •ë³´ê°€ ìˆë‹¤ë©´ ë‚ ì”¨ì •ë³´ë¥¼ ì°¸ê³ í•´ì„œ ì¥ì†Œë¥¼ ì¶”ì²œí•´ì¤˜ \n\n");
        sb.append("ğŸ“Œ ì°¸ê³ í•  ì£¼ì†Œ: ").append(startingLocation).append("\n");
        sb.append("ğŸ“Œ ì°¸ê³ í•  ë‚ ì§œ: ").append(date).append("\n\n");
        
        
        sb.append("ğŸ“Œ ì‘ë‹µ í˜•ì‹ì€ ë°˜ë“œì‹œ ì•„ë˜ JSONë§Œ ì‚¬ìš©í•˜ì„¸ìš”. ë§ˆí¬ë‹¤ìš´, ì½”ë“œë¸”ëŸ­, ì„¤ëª… ë¬¸ì¥ í¬í•¨ ê¸ˆì§€:\n\n");

        sb.append("{\n");
        sb.append("  \"results\": [\n");
        sb.append("    {\n");
        sb.append("      \"name\": \"ì¥ì†Œëª…\",\n");
        sb.append("      \"type\": \"ì¥ì†Œ ìœ í˜•\",\n");
        sb.append("      \"region\": \"ì§€ì—­ëª…\",\n");
        sb.append("      \"description\": \"ì¥ì†Œ ì„¤ëª… (1ë¬¸ì¥)\",\n");
        sb.append("      \"reason\": \"ì¶”ì²œ ì´ìœ \",\n");
        sb.append("      \"latitude\": \"ìœ„ë„\",\n");
        sb.append("      \"longitude\": \"ê²½ë„\",\n");
        sb.append("      \"imageUrl\": \"null\"\n");
        sb.append("    }\n");
        sb.append("  ]\n");
        sb.append("}\n\n");

        sb.append("ğŸ“Œ ì˜ˆì™¸ ìƒí™©ì¼ ê²½ìš° ë°˜ë“œì‹œ ë‹¤ìŒ í˜•ì‹ìœ¼ë¡œ ì‘ë‹µ:\n");
        sb.append("{ \"error\": \"í•´ë‹¹ ì§€ì—­ì— ëŒ€í•œ ì¶”ì²œì¥ì†Œë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.ì¶œë°œì§€ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.\" }\n\n");
        
        sb.append("ğŸ“Œ ê¸°íƒ€ ì°¸ê³  ì¡°ê±´:\n");
        sb.append("1. ì¥ì†Œ ìˆ˜ëŠ” ìµœì†Œ 50ê°œ. ìµœëŒ€ 1500ê°œ. \n");
        sb.append("2. ì¥ì†ŒëŠ” ë°˜ë“œì‹œ ì‹¤ì¬í•˜ëŠ” ê³³ë§Œ ì„ íƒí•˜ì„¸ìš”.\n");
        sb.append("3. descriptionê³¼ reasonì€ ì„œë¡œ ë‹¤ë¥¸ ë‚´ìš©ì„ ë‹´ë„ë¡ í•˜ì„¸ìš”.\n");
        sb.append("4. JSON ì™¸ í…ìŠ¤íŠ¸, ì„¤ëª…, ë§ˆí¬ë‹¤ìš´, ì½”ë“œë¸”ëŸ­ ë“±ì€ ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”.\n");
        sb.append("5. íŠ¹íˆ ì•„ë˜ ë‹¨ì–´ë“¤ì€ description ë˜ëŠ” reasonì— ì ˆëŒ€ í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”:\n");
        sb.append("   - ê¸°ë³¸, ëŒ€ì²´, ì˜ëª»ëœ ì…ë ¥, ì„ì˜, ì˜ˆì‹œ, ì¶”ì²œì´ ë¶€ì¡±í•˜ì—¬\n");
        sb.append("6. ë°˜ë“œì‹œ ë„˜ê²¨ë°›ì€ ì£¼ì†Œì—ì„œ ë°˜ê²½ 10kmì— ìˆê±°ë‚˜ ë„˜ê²¨ë°›ì€ ì£¼ì†Œê°€ ì†í•œ  ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ resultsë¥¼ ì‘ë‹µí•˜ì„¸ìš”.\n");
        sb.append("7. ê²°ê³¼ì—ëŠ” ì •í™•í•œ ìœ„ë„ ê²½ë„ ê°’ì„ í¬í•¨í•˜ëŠ” ê²½ìš°ì—ë§Œ resultsë¥¼ ì‘ë‹µí•˜ì„¸ìš”.\n");


        return sb.toString();
    }
}
